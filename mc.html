<!DOCTYPE html>
<html lang="en" style="width:100%;height:100%;">
  <head>
    <meta charset="utf-8">
    <title>CJ3 test</title>
    <script src="mcutils.js"></script>
    <script src="https://cjrtnc.leaningtech.com/3_20231218_321/cj3loader.js"></script>
  </head>
  <body style="width:100%;height:100%;margin:0;">
   <canvas id="mc" width="1000" height="500" tabIndex="-1"></canvas>
   <div id="display" style="width:100%;height:100%;position:absolute;top:0;left:0px;visibility:hidden;">
   </div>
   <script>
	async function initialize()
	{
		try
		{
			var ret = await cheerpjInit({version:8,javaProperties:["java.library.path=/app/natives", "org.lwjgl.util.NoChecks=true"],tailscaleAuthKey:"tskey-auth-k9RsJp3CNTRL-xcmTEoqDeYjUVQpzCwwUejtL5bLq9MZVS"});
			cheerpjCreateDisplay(-1, -1, document.getElementById("display"));
			await installFile("https://piston-data.mojang.com/v1/objects/4a2fac7504182a97dcbcd7560c6392d7c8139928/client.jar", "/files/client_1.2.5.jar");
			var mainRet = await cheerpjRunMain("net.minecraft.client.Minecraft", "/app/lwjgl-2.9.0.jar:/app/lwjgl_util-2.9.0.jar:/files/client_1.2.5.jar");
			console.log("Java process exit code:", mainRet, "elapsed:", performance.now());
		}
		catch(e)
		{
			console.log("Failure:", e);
		}
	}
	initialize();
    </script>
  </body>
</html>
